<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
	<constant name="struts.devMode" value="true" />
	<constant name="struts.objectFactory" value="spring" />
	

	<package name="default" namespace="/" extends="json-default">
	
		<interceptors>
			<interceptor name="loginInterceptor"
				class="com.yc.lining.inteceptor.LoginInterceptor" />
			<interceptor-stack name="myStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="loginInterceptor">
				<param name="includeMethods">order</param>
				</interceptor-ref>
			</interceptor-stack>
		</interceptors>

		<global-results>
			<result name="loginInt" type="redirect">page/login.jsp</result>
		</global-results>



		<action name="*_*" class="{1}Action" method="{2}">
			<interceptor-ref name="myStack" />
		
			<result name="{2}">index.jsp</result>
			<!-- <result	type="json">
				<param name="root">usersinfo1</param>
			</result> -->
			<result name="loginFail" type="redirect">page/login.jsp</result>
			<result name="listAll" type="redirect">page/index.jsp</result>
			<result name="Addcart">shoppingcart.jsp</result>
			<result name="orderSuccess">order.jsp</result>
			<result name="Addsuccess" type="redirect">page/order_order.action</result>
			<result name="Finddetails">goodsinfo.jsp</result>
			<!-- <result name="HandFail" type="redirect">page/order_order.action</result> -->
			<result name="buyAmount"></result>
		</action>
		<action name="code" class="codeAction" method="code">
		</action>
		
		<action name="baokuan" class="baokuanAction" method="getProById">
		</action>
		
		<action name="findAll" class="proAction" method="findAll">
			<result name="success">product.jsp</result>
		</action>

		<action name="pro_findByDate" class="proAction" method="findByDate"></action>
		
		<action name="pro_findByPriceDesc" class="proAction" method="findByPriceDesc"></action>

		<action name="pro_findByType" class="proAction" method="findByType"></action>
		
		<action name="pro_findByPrice" class="proAction" method="findByPrice"></action>
		
		<action name="pro_findByPage" class="proAction" method="findByPage">
			<result	type="json">
				<param name="root">pageList</param>
			</result>
		</action>
	</package>
</struts>
