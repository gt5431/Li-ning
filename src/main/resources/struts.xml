<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
	<constant name="struts.devMode" value="true" />
	<constant name="struts.objectFactory" value="spring" />
	

	<package name="default" namespace="/" extends="json-default">
	
		<interceptors>
			<interceptor name="loginInterceptor"
				class="com.yc.lining.inteceptor.LoginInterceptor" />
			<interceptor-stack name="myStack">
				<interceptor-ref name="defaultStack" />
				<interceptor-ref name="loginInterceptor">
				<param name="includeMethods">order,comment</param>
				</interceptor-ref>
			</interceptor-stack>
		</interceptors>

		<global-results>
			<result name="loginInt" type="redirect">page/login.jsp</result>
		</global-results>
		
		
		<action name="*_*" class="{1}Action" method="{2}">
			<interceptor-ref name="myStack" />
		
			<result name="{2}">index.jsp</result>
			<result	type="json" name="userlogin">
				<param name="root">usersinfo1</param>
			</result>
			<result	type="json" name="productsJson">
				<param name="root">products</param>
			</result>
			
			<result name="listAll" type="redirect">page/index.jsp</result>
			<result name="Addcart">shoppingcart.jsp</result>
			<result name="orderSuccess">order.jsp</result>
			<result name="Addsuccess" type="redirect">page/order_order.action</result>
			<result name="Finddetails">goodsinfo.jsp</result>
			<!-- <result name="HandFail" type="redirect">page/order_order.action</result> -->
			<result name="buyAmount"></result>
			
			<result name="listorder">MyNing1.jsp</result>
			<result name="comm">comment.jsp</result>
		    <result name="commsuccess">commSuccess.jsp</result>
		    <result name="commfail">error.jsp</result>
		    
		    <result name="deleteSuccess">shoppingcart.jsp</result>
		    <result name="mycart" type="redirect">page/shoppingcart.jsp</result>
		    
		    <result name="mlogin" type="redirect">backlogin/back_login.jsp</result>
			<result name="mloginSuccess" type="redirect">back/main.jsp</result>
		</action>
		<action name="collection" class="collectionAction" method="Collections">
			<result name="collection" type="redirect">page/shoppingcart.jsp</result>
		</action>
		
		<action name="collectionById" class="collectionAction" method="findCollectionById">
			<result	type="json">
				<param name="root">collectList</param>
			</result>
		</action>
		
		<action name="code" class="codeAction" method="code">
		</action>
		<action name="baokuan" class="baokuanAction" method="getProById">
		</action>
		
		<action name="findByDate" class="proAction" method="findByDate"></action>
		
		<action name="findByPriceDesc" class="proAction" method="findByPriceDesc"></action>

		<action name="findByType" class="proAction" method="findByType"></action>
		
		<action name="findByPrice" class="proAction" method="findByPrice"></action>
		
		<action name="findByPage" class="proAction" method="findByPage">
			<result	type="json">
				<param name="root">pageList</param>
			</result>
		</action>
		
		<action name="pinglun" class="commentDetailAction"  method="detailping">
	          
	    </action>
	    
	    <!-- HOUTAI -->
	    <action name="manager_listAllManager" class="managerAction" method="listAllManager">
			<!-- result的name默认为success -->
			<result type="json">
				<param name="root">managers</param>
			</result>
			<!-- <result name="cxManagersuccess" type="redirect">back/manager.html</result> -->
		</action>
		
		<action name="manager_addManager" class="managerAction" method="addManager">
			<result type="json">
				<param name="root">managers</param>
			</result>
		</action>
		<action name="user02_listAllUser" class="userAction" method="listAllUser">
			<result type="json">
				<param name="root">listUsers</param>
			</result>
		</action>
		
		<action name="type_listAllType" class="typeAction" method="listAllType">
			<result type="json">
				<param name="root">types</param>
			</result>
		</action>
		<action name="type_addType" class="typeAction" method="addType">
			<result type="json">
				<param name="root">types</param>
			</result>
		</action>
		<action name="orderform_listAllOrder" class="orderformAction" method="listAllOrder">
			<result type="json">
				<param name="root">orders</param>
			</result>
		</action>
		<action name="listAllPlace" class="place1Action" method="listAllPlace">
			<result type="json" name="placeJson">
				<param name="root">places</param>
			</result>
		</action>
		<!-- <action name="updateProduct" class="product1Action" method="updateProduct">
			
		</action> -->
	</package>
</struts>
